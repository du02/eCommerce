CREATE TABLE USUARIOS (
	CD_USUARIO INTEGER,
	NM_USUARIO TEXT(70) NOT NULL,
	E_MAIL TEXT(100) NOT NULL,
	TP_SEXO TEXT(1) NOT NULL,
	NR_RG TEXT(15) NOT NULL,
	NR_CPF TEXT(14),
	NM_MAE TEXT(100),
	DS_SITUACAO_CADASTRO TEXT(1) NOT NULL,
	CREATED_AT TEXT NOT NULL,
	UPDATE_AT TEXT,
	CONSTRAINT USUARIOS_PK PRIMARY KEY (CD_USUARIO)
);

-- 1:1
CREATE TABLE CONTATOS (
	CD_CONTATO INTEGER NOT NULL,
	CD_USUARIO INTEGER NOT NULL,
	NR_TELEFONE TEXT(15),
	NR_CELULAR TEXT(15),
	CONSTRAINT CONTATOS_PK PRIMARY KEY (CD_CONTATO),
	CONSTRAINT CONTATOS_USUARIOS_FK FOREIGN KEY (CD_USUARIO) REFERENCES USUARIOS(CD_USUARIO) ON DELETE CASCADE ON UPDATE CASCADE
);

-- 1:N
CREATE TABLE ENDERECOS_ENTREGA (
	CD_ENDERECOS_ENTREGA INTEGER NOT NULL,
	CD_USUARIO INTEGER NOT NULL,
	NM_ENDERECO TEXT(100),
	DS_CEP TEXT(10),
	DS_CIDADE TEXT(120),
	DS_ESTADO TEXT(2),
	DS_BAIRRO TEXT(200),
	DS_ENDERECO TEXT(200),
	DS_NUMERO TEXT(20),
	DS_COMPLEMENTO TEXT(30),
	CONSTRAINT ENDERECOS_ENTREGA_PK PRIMARY KEY (CD_ENDERECOS_ENTREGA),
	CONSTRAINT ENDERECOS_ENTREGA_USUARIOS_FK FOREIGN KEY (CD_USUARIO) REFERENCES USUARIOS(CD_USUARIO) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE DEPARTAMENTOS (
	CD_DEPARTAMENTO INTEGER NOT NULL,
	NM_DEPARTAMENTO TEXT(100) NOT NULL,
	CONSTRAINT DEPARTAMENTOS_PK PRIMARY KEY (CD_DEPARTAMENTO)
);

--N:N
CREATE TABLE USUARIOS_DEPARTAMENTOS (
	CD_USUARIO_DEPARTAMENTO INTEGER NOT NULL,
	CD_USUARIO INTEGER NOT NULL,
	CD_DEPARTAMENTO INTEGER NOT NULL,
	CONSTRAINT USUARIOS_DEPARTAMENTOS_PK PRIMARY KEY (CD_USUARIO_DEPARTAMENTO),
	CONSTRAINT USUARIOS_DEPARTAMENTOS_USUARIOS_FK FOREIGN KEY (CD_USUARIO) REFERENCES USUARIOS(CD_USUARIO) ON DELETE CASCADE ON UPDATE CASCADE,
	CONSTRAINT USUARIOS_DEPARTAMENTOS_DEPARTAMENTOS_FK FOREIGN KEY (CD_DEPARTAMENTO) REFERENCES DEPARTAMENTOS(CD_DEPARTAMENTO) ON DELETE CASCADE ON UPDATE CASCADE
);